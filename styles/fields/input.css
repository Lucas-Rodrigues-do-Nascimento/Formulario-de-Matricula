/* =========================================================
   input.css (COMENTADO) ‚Äî inputs, textarea, select e estados
   =========================================================
   ‚úÖ O que este arquivo faz:
   - Define o ‚Äúvisual padr√£o‚Äù de campos (input/textarea/select)
   - Define estilo de label (texto acima do campo)
   - Define estados de foco (focus) e valida√ß√£o (invalid/valid)
   - Personaliza:
     - input type="date" (√≠cone calend√°rio)
     - select (√≠cone de seta)
   - Ajusta layout do endere√ßo (.address .flex) e responsividade

   üîé Onde aparece no HTML:
   - Inputs:
     <input id="fullname" ...>
     <input type="date" id="birth" ...>
     <input type="email" id="mail" required>
     etc.
   - Select:
     <select name="gender" id="gender">...</select>
   - Textarea:
     <textarea id="medical-info">...</textarea>
   - Labels:
     <label for="fullname">Nome completo</label>
   - Endere√ßo (usa .address e .flex):
     <fieldset class="address">
       <div class="flex"> ... </div>
     </fieldset>
   - Wrapper que envolve cada campo:
     <div class="input-wrapper"> ... </div>
   - Mensagem de ajuda:
     <input ...>
     <small>...</small>
   - Mensagem de erro:
     <input required ...>
     <div class="error">...</div>

   üîó Rela√ß√£o com outros arquivos:
   - global.css fornece vari√°veis:
     --text, --text-sm, --text-primary, --text-secondary,
     --stroke-default, --stroke-highlight, --surface-secondary,
     --surface-disabled, --semantic-error
   - forms.css define espa√ßamento dos fieldsets, mas o visual do campo √© aqui.
   - global.css define .flex { display:flex }, e aqui voc√™ ajusta dire√ß√£o no mobile.
========================================================= */


/* =========================
   Estilo base dos campos
   ========================= */

input,
textarea,
select {
    appearance: none;
    /* CONCEITO: appearance
     - Remove a apar√™ncia ‚Äúnativa‚Äù do navegador em alguns controles (principalmente select).
     - Ajuda a aplicar um design consistente.
     ‚ö†Ô∏è Em alguns casos, appearance pode afetar elementos como select no iOS,
       mas √© comum em design systems. */

    width: 100%;
    /* Faz o campo ocupar toda a largura dispon√≠vel do container (geralmente .input-wrapper).
     Isso evita campos ‚Äúcurtos‚Äù e melhora alinhamento. */

    border-radius: .5rem;
    /* Cantos arredondados (0.5rem ‚âà 8px). */

    border: 2px solid transparent;
    /* Borda invis√≠vel (mas existente).
     CONCEITO: truque de layout
     - Voc√™ deixa a borda "reservada" para quando o campo estiver em foco (highlight),
       evitando que o campo ‚Äúmude de tamanho‚Äù quando a borda aparece. */

    outline: 1px solid var(--stroke-default);
    /* Outline como ‚Äúborda padr√£o‚Äù.
     CONCEITO: outline vs border
     - outline n√£o ocupa espa√ßo no box model (diferente de border).
     - Aqui voc√™ usa outline para o estado normal e depois muda no focus. */

    padding: .75rem 1rem;
    /* Espa√ßo interno do campo:
     - 0.75rem vertical
     - 1rem horizontal
     Isso melhora clique/toque e leitura. */

    font: var(--text);
    /* Aplica tipografia padr√£o (global.css: :root --text).
     Isso garante que input e textarea tenham a mesma fonte do site. */
}


/* =========================
   Label (texto do campo)
   ========================= */

label {
    font: var(--text-sm);
    /* Tipografia menor, ideal para r√≥tulos. */

    color: var(--text-secondary);
    /* Cor do texto do label. */

    display: block;
    /* Faz o label ocupar a linha inteira.
     CONCEITO: elementos inline vs block
     - label por padr√£o √© inline.
     - com block, voc√™ controla margin-bottom e garante que o input caia embaixo. */

    margin-bottom: .25rem;
    /* Pequeno espa√ßo entre label e campo. */
}


/* =========================
   Estado de foco (focus)
   ========================= */

input:focus,
select:focus,
textarea:focus,
input[type="date"]:focus-within {
    outline: .25rem solid var(--surface-secondary);
    /* Quando o campo est√° focado (clicado/selecionado):
     - cria um ‚Äúhalo‚Äù (outline mais grosso) com cor suave.
     CONCEITO: feedback visual de foco (important√≠ssimo para UX e acessibilidade). */

    border-color: var(--stroke-highlight);
    /* Ativa borda com cor de destaque (laranja).
     Como voc√™ tinha border 2px transparente, agora ela aparece. */

    outline-offset: .1px;
    /* CONCEITO: outline-offset
     - distancia o outline do elemento.
     - 0.1px √© bem pequeno; na pr√°tica, √© um ‚Äúmicro-ajuste‚Äù visual.
     (Voc√™ poderia usar 1px sem grandes problemas.) */
}


/* =========================
   Input do tipo date (calend√°rio custom)
   ========================= */

input[type="date"] {
    position: relative;
    /* Permite posicionar o √≠cone via pseudo-elemento ::before dentro do input.
     (O input vira o ‚Äúreferencial‚Äù do absolute.) */

    &::-webkit-calendar-picker-indicator {
        opacity: 0;
        /* CONCEITO: pseudo-elemento/vendor prefix
       - Esse seletor atinge o √≠cone nativo do calend√°rio no Chrome/Safari (WebKit/Blink).
       - opacity:0 esconde o √≠cone padr√£o, para voc√™ usar o seu.
       ‚ö†Ô∏è Observa√ß√£o: isso √© espec√≠fico de navegadores WebKit; em outros pode variar. */
    }

    &::before {
        content: "";
        /* CONCEITO: pseudo-elemento
       - ::before cria um ‚Äúelemento virtual‚Äù antes do conte√∫do.
       - Voc√™ usa ele para desenhar o √≠cone dentro do campo. */

        position: absolute;

        background: url(../../assets/icons/calendar-03.svg) center/contain;
        /* √çcone do calend√°rio via background.
       Caminho relativo ao input.css: styles/fields/input.css -> ../../assets/icons/... */

        right: 1rem;
        /* Posiciona o √≠cone a 1rem da borda direita. */

        width: 1.25rem;
        height: 1.25rem;
        /* Tamanho do √≠cone. */

        top: 50%;
        transform: translateY(-50%);
        /* Centraliza verticalmente:
       - top:50% coloca o topo do √≠cone no meio
       - translateY(-50%) sobe metade da altura do √≠cone
       CONCEITO: t√©cnica cl√°ssica de centraliza√ß√£o vertical. */
    }
}


/* =========================
   Select com √≠cone de seta
   ========================= */

select {
    background: url(../../assets/icons/arrow-down-01.svg) no-repeat calc(100% - 1rem);
    /* Coloca um √≠cone de seta como background do select.
     - no-repeat: n√£o repetir
     - calc(100% - 1rem): posiciona a seta perto da borda direita, com 1rem de dist√¢ncia.
     CONCEITO: ‚Äúfake dropdown icon‚Äù para manter consist√™ncia visual. */

    /* ‚ö†Ô∏è Observa√ß√£o importante:
     Voc√™ n√£o definiu background-size aqui.
     Se em algum browser o √≠cone ficar grande, voc√™ pode adicionar:
     background-size: 1.25rem;
     background-position: calc(100% - 1rem) center;
  */
}


/* =========================
   Endere√ßo (layout com flex)
   ========================= */

.address .flex {
    gap: 1.25rem;
    /* Ajusta o espa√ßamento entre colunas (rua/n√∫mero, cidade/estado).
     Onde no HTML:
     <fieldset class="address">
       <div class="flex">...</div>
     </fieldset>

     Nota: display:flex do .flex vem do global.css.
     Aqui voc√™ s√≥ controla o espa√ßamento dentro do contexto de endere√ßo. */
}


/* =========================
   Inputs desabilitados (visual de ‚Äún√£o edit√°vel‚Äù)
   ========================= */

.input-wrapper:has([disabled]) {
    opacity: .5;
    /* CONCEITO: :has()
     - Seleciona o wrapper .input-wrapper se ele tiver um filho com [disabled].
     - Isso deixa o bloco ‚Äúapagado‚Äù quando o input est√° desabilitado.

     Onde no HTML:
     <div class="input-wrapper">
       <input disabled ...>
     </div>

     ‚ö†Ô∏è Compatibilidade:
     - :has() √© moderno (bom lembrar em estudo).
     - Em projetos atuais geralmente ok, mas √© um detalhe importante. */
}


/* =========================
   Regras espec√≠ficas de <input>
   ========================= */

input {
    &[disabled] {
        background-color: var(--surface-disabled);
        /* Fundo cinza claro para indicar desativado. */

        border: 1px solid var(--stroke-default);
        /* Ajusta a borda (aqui voc√™ usa border ao inv√©s de outline).
       Pode ser uma decis√£o est√©tica: deixar o disabled diferente. */

        color: var(--text-primary);
        /* Texto mais forte para manter leg√≠vel mesmo ‚Äúapagado‚Äù. */
    }

    &:invalid {
        border: 0.125rem solid var(--semantic-error);
        /* CONCEITO: valida√ß√£o nativa
       - :invalid ativa quando o browser considera o campo inv√°lido.
       Exemplo no HTML:
       <input type="email" required ...>
       Se n√£o for email v√°lido, o browser marca invalid.

       Obs.: aqui voc√™ usa border vermelho.
       Isso funciona bem, mas lembre que o input base usa outline.
       Voc√™ est√° misturando outline e border (n√£o √© errado, s√≥ precisa consist√™ncia). */
    }

    &+small {
        font: var(--text-sm);
        /* Texto auxiliar menor. */

        color: #78716C;
        /* Cor fixa (n√£o vari√°vel). Poderia virar var tamb√©m, mas n√£o √© obrigat√≥rio. */

        display: inline-block;
        /* Permite aplicar margin-top e manter comportamento de bloco pequeno. */

        margin-top: .25rem;
        /* Espa√ßo entre input e a linha de ajuda. */

        /* Onde no HTML:
       <input ...>
       <small>Principal respons√°vel legal...</small> */
    }

    &[required]+.error {
        display: flex;
        /* Mensagem de erro vira uma linha flex para √≠cone + texto. */

        align-items: center;
        /* Alinha √≠cone e texto no meio. */

        gap: .25rem;
        /* Espa√ßo entre o √≠cone e a mensagem. */

        font: var(--text-sm);
        /* Tipografia de erro menor. */

        color: var(--semantic-error);
        /* Vermelho sem√¢ntico vindo do global.css. */

        margin-top: .25rem;
        /* Espa√ßo entre o input e a mensagem de erro. */

        /* Onde no HTML:
       <input type="email" required>
       <div class="error">
         <img ...>
         <span>Insira um e-mail v√°lido</span>
       </div>

       CONCEITO: seletor de irm√£o adjacente (+):
       - isso s√≥ funciona se .error vier imediatamente depois do input. */
    }

    &:not(:focus):valid+.error {
        display: none;
        /* CONCEITO: l√≥gica de exibi√ß√£o baseada em estado
       - :valid: campo est√° v√°lido
       - :not(:focus): n√£o est√° focado
       - + .error: a div de erro logo ap√≥s o input

       Resultado:
       - Quando o campo est√° v√°lido e voc√™ saiu dele, esconde a mensagem de erro.

       ‚ö†Ô∏è Aten√ß√£o:
       - Isso n√£o mostra automaticamente a mensagem em ‚Äúinvalid‚Äù.
         Ela aparece por padr√£o porque voc√™ definiu display:flex em &[required] + .error.
       - Se quiser que a mensagem s√≥ apare√ßa quando estiver inv√°lido,
         o padr√£o seria o oposto:
           .error { display:none; }
           input:invalid + .error { display:flex; }
         Mas o seu modelo tamb√©m funciona (s√≥ que ‚Äúparte vis√≠vel‚Äù depende de valid). */
    }
}


/* =========================
   Mobile (at√© 600px)
   ========================= */

@media (max-width: 600px) {
    .flex {
        flex-direction: column;
        /* CONCEITO: responsividade no flex
       - No desktop, .flex (global.css) deixa itens em linha.
       - No mobile, voc√™ empilha (coluna) para caber na tela.
       Onde impacta no HTML:
       - Fieldset endere√ßo: rua/n√∫mero e cidade/estado passam a ficar um embaixo do outro.

       ‚ö†Ô∏è Importante:
       Essa regra afeta TODO lugar que usar .flex no projeto.
       No seu HTML, hoje parece OK (√© basicamente o endere√ßo).
       Se futuramente voc√™ usar .flex em outro lugar e quiser manter linha no mobile,
       voc√™ pode restringir:
         .address .flex { flex-direction: column; }
  */

        .address .flex {
            gap: 1rem;
            /* Reduz o espa√ßo entre campos no endere√ßo para telas pequenas. */
        }
    }

}